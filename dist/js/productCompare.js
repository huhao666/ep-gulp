function showTableData(t,e){var a=t.join(",");0<t.length?$.ajax({url:common_url+"/getProductDetailList",type:"get",async:!0,data:{delCommon:e,ids:a},dataType:"json",success:function(t){if(t){for(var e=t.list[0],a="",i=0;i<e.parameterList.length;i++){a+='<div class="tdTitle"><span class="suo"></span>'+e.parameterList[i].name+'</div><table class="'+e.parameterList[i].id+'">';for(var r=0;r<e.parameterList[i].propertyList.length;r++)a+='<tr class="'+e.parameterList[i].propertyList[r].id+'"><td width="50px">'+e.parameterList[i].propertyList[r].code+'</td><td width="250px">'+e.parameterList[i].propertyList[r].name+'</td><td width="150px">'+e.parameterList[i].propertyList[r].unit+'</td><td width="300px"></td><td width="300px"></td><td width="300px"></td></tr>';a+="</table>"}$(".tables").html(a),$(".tdTitle").click(function(){var t=$(".tdTitle").index(this),e=$(".tdTitle").index(this)+1;$(".suo").eq(t).hasClass("fang")?($(".suo").eq(t).css("background","url(../img/suo.png) no-repeat"),$(".suo").eq(t).removeClass("fang"),$("table").eq(e).show()):($(".suo").eq(t).css("background","url(../img/fang.png) no-repeat"),$(".suo").eq(t).addClass("fang"),$("table").eq(e).hide())});var o=t.list;for(i=0;i<o.length;i++){$(".topbox").eq(1+i).find(".close").attr("data-id",o[i].id),$(".tableHead td").eq(3+i).text(o[i].name),$(".topbox").eq(1+i).find("img").attr("src",img_url+o[i].defaultImage),$(".topbox").eq(1+i).find("select").hide();for(r=0;r<o[i].parameterList.length;r++)for(var s=0;s<o[i].parameterList[r].propertyList.length;s++)$("."+o[i].parameterList[r].propertyList[s].id).find("td").eq(3+i).text(o[i].parameterList[r].propertyList[s].value)}}}}):$(".tables").html(" ")}$(function(){var a=!1,i=[],r="",o='<option value="">请选择车型</option>';$.ajax({url:common_url+"/getGroupProductList",type:"get",async:!0,dataType:"json",success:function(t){if(t.groupList){r=t.groupList;for(var e=0;e<r.length;e++)o+='<option value="'+r[e].id+'">'+r[e].name+"</option>";$(".select1").html(o)}}}),$(".select1").change(function(){var t=$(this).val(),e='<option value="">请选择型号</option>';if(t){$(this).parent().find(".select2").show();for(var a=0;a<r.length;a++)if(t==r[a].id)for(var i=0;i<r[a].productList.length;i++)e+='<option value="'+r[a].productList[i].id+'">'+r[a].productList[i].name+"["+r[a].productList[i].modelName+"]</option>";$(".select2").html(e)}}),$(".select2").change(function(){var t=$(this).val();i.push(t),showTableData(i,a)});var t=getUrlParam("id");if(t){var e=t.split(",");i=e}showTableData(i,a),$(document).on("change","#hideCommon",function(){a=!!$("#hideCommon").prop("checked"),showTableData(i,a)}),$(".close").on("click",function(){var t=Number($(this).attr("data-index")),e=$(this).attr("data-id");e&&($(this).removeAttr("data-id"),$(".tableHead td").eq(3).text(" "),$(".tableHead td").eq(4).text(" "),$(".tableHead td").eq(5).text(" "),$(".topbox").find("img").attr("src","img/noImg.png"),$(".topbox").find(".select1").show(),$(".topbox").eq(t).find(".select1").html(o),i.remove(e),showTableData(i,a))})}),Array.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return e;return-1},Array.prototype.remove=function(t){var e=this.indexOf(t);-1<e&&this.splice(e,1)};